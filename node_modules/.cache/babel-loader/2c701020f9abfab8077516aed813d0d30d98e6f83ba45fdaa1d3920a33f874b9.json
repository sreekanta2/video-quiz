{"ast":null,"code":"var _s = $RefreshSig$();\nimport { get, getDatabase, limitToFirst, orderByKey, query, ref, startAt } from \"firebase/database\";\nimport { useEffect, useState } from \"react\";\nexport default function useVideoList(page) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(true);\n  const [videos, setVideos] = useState([]);\n  const [hasMore, setHasmore] = useState(true);\n  useEffect(() => {\n    async function fetchVideos() {\n      const db = getDatabase();\n      const videoRef = ref(db, \"videos\");\n      const videosQuery = query(videoRef, orderByKey(), startAt(\"\" + page), limitToFirst(8));\n      try {\n        setLoading(true);\n        setError(false);\n        const snapshot = await get(videosQuery);\n        if (snapshot.exists()) {\n          setVideos(prevVedios => {\n            return [...prevVedios, ...Object.values(snapshot.val())];\n          });\n        } else {\n          setHasmore(false);\n        }\n      } catch (error) {\n        setLoading(false);\n        setError(true);\n      }\n      setLoading(false);\n    }\n    fetchVideos();\n  }, [page]);\n  return {\n    loading,\n    error,\n    videos,\n    hasMore\n  };\n}\n_s(useVideoList, \"i6cjw0PknI6Z9+w5jCpGlpZxSi8=\");","map":{"version":3,"names":["get","getDatabase","limitToFirst","orderByKey","query","ref","startAt","useEffect","useState","useVideoList","page","_s","loading","setLoading","error","setError","videos","setVideos","hasMore","setHasmore","fetchVideos","db","videoRef","videosQuery","snapshot","exists","prevVedios","Object","values","val"],"sources":["/home/mint/Desktop/react/quiz/src/hooks/useVideoList.js"],"sourcesContent":["import {\n  get,\n  getDatabase,\n  limitToFirst,\n  orderByKey,\n  query,\n  ref,\n  startAt,\n} from \"firebase/database\";\nimport { useEffect, useState } from \"react\";\n\nexport default function useVideoList(page) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(true);\n  const [videos, setVideos] = useState([]);\n  const [hasMore, setHasmore] = useState(true);\n\n  useEffect(() => {\n    async function fetchVideos() {\n      const db = getDatabase();\n      const videoRef = ref(db, \"videos\");\n      const videosQuery = query(\n        videoRef,\n        orderByKey(),\n        startAt(\"\" + page),\n        limitToFirst(8)\n      );\n      try {\n        setLoading(true);\n        setError(false);\n        const snapshot = await get(videosQuery);\n        if (snapshot.exists()) {\n          setVideos((prevVedios) => {\n            return [...prevVedios, ...Object.values(snapshot.val())];\n          });\n        } else {\n          setHasmore(false);\n        }\n      } catch (error) {\n        setLoading(false);\n        setError(true);\n      }\n      setLoading(false);\n    }\n    fetchVideos();\n  }, [page]);\n  return {\n    loading,\n    error,\n    videos,\n    hasMore,\n  };\n}\n"],"mappings":";AAAA,SACEA,GAAG,EACHC,WAAW,EACXC,YAAY,EACZC,UAAU,EACVC,KAAK,EACLC,GAAG,EACHC,OAAO,QACF,mBAAmB;AAC1B,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,eAAe,SAASC,YAAYA,CAACC,IAAI,EAAE;EAAAC,EAAA;EACzC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,eAAea,WAAWA,CAAA,EAAG;MAC3B,MAAMC,EAAE,GAAGpB,WAAW,EAAE;MACxB,MAAMqB,QAAQ,GAAGjB,GAAG,CAACgB,EAAE,EAAE,QAAQ,CAAC;MAClC,MAAME,WAAW,GAAGnB,KAAK,CACvBkB,QAAQ,EACRnB,UAAU,EAAE,EACZG,OAAO,CAAC,EAAE,GAAGI,IAAI,CAAC,EAClBR,YAAY,CAAC,CAAC,CAAC,CAChB;MACD,IAAI;QACFW,UAAU,CAAC,IAAI,CAAC;QAChBE,QAAQ,CAAC,KAAK,CAAC;QACf,MAAMS,QAAQ,GAAG,MAAMxB,GAAG,CAACuB,WAAW,CAAC;QACvC,IAAIC,QAAQ,CAACC,MAAM,EAAE,EAAE;UACrBR,SAAS,CAAES,UAAU,IAAK;YACxB,OAAO,CAAC,GAAGA,UAAU,EAAE,GAAGC,MAAM,CAACC,MAAM,CAACJ,QAAQ,CAACK,GAAG,EAAE,CAAC,CAAC;UAC1D,CAAC,CAAC;QACJ,CAAC,MAAM;UACLV,UAAU,CAAC,KAAK,CAAC;QACnB;MACF,CAAC,CAAC,OAAOL,KAAK,EAAE;QACdD,UAAU,CAAC,KAAK,CAAC;QACjBE,QAAQ,CAAC,IAAI,CAAC;MAChB;MACAF,UAAU,CAAC,KAAK,CAAC;IACnB;IACAO,WAAW,EAAE;EACf,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EACV,OAAO;IACLE,OAAO;IACPE,KAAK;IACLE,MAAM;IACNE;EACF,CAAC;AACH;AAACP,EAAA,CAzCuBF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}